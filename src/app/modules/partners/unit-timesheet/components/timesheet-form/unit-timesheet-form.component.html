<mat-card>
    <mat-card-header>
        <mat-card-title>{{pageTitle | translate}} </mat-card-title>
        <mat-card-subtitle>{{ (isInsert() ? 'UNIT_TIMESHEET.FORM.SUBTITLE' : 'UNIT_TIMESHEET.FORM.UPDATE_SUBTITLE') |
            translate}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content fxLayout="column">
        <form fxFlex [formGroup]="form" (ngSubmit)="onSubmit()">
            <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="20">
                <mat-form-field style="width: 40em;" formGroupName="unit" check-visibility control="unit.id">
                    <mat-label>{{"RESOURCES.FIELDS.UNIT" | translate}}</mat-label>
                    <mat-select formControlName="id" required (selectionChange)="onUnitChange($event.value)">
                        <mat-option [value]=0 [disabled]="!permissions">
                           All
                        </mat-option>
                        <mat-option *ngFor="let unit of units" [value]="unit.id" [disabled]="!permissions">
                            {{unit.trigram}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </form>
    </mat-card-content>
    <mat-divider></mat-divider>
    <mat-card-content fxLayoutGap="20">
        <div>
            <mat-tab-group [selectedIndex]="currentMonthIndex"  (selectedTabChange)="onTabChanged($event)">
                <mat-tab  *ngFor="let label of tabLabels" [label]="label | translate">
                    <mat-card-content>
                        <app-generic-table
                          [columns]="columns"
                          [dataSource]="resourceTimesheetInfo"
                          [showCheckbox]="false"
                          (onActionClick)="onDetailClick($event.model)">
                        </app-generic-table>
                      </mat-card-content>
                </mat-tab>
            </mat-tab-group>
        </div>
    </mat-card-content>
</mat-card>
